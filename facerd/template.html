<html>

<head>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {'packages': ['corechart']});
    google.charts.setOnLoadCallback(drawChart);

    getSource = () => {
      // todo ここを/resourceから取得するように
      return {
        name: "filename",
        sp_max: 5,
        sp_list: [
          ['day', 'param'],
          ["", 3],
          ["", 2],
          ["", 2],
          ["", 5],
          ["", 2],
          ["", 2],
        ]
      }
    }


    function drawChart() {
      source = getSource()
      
      var data = google.visualization.arrayToDataTable(source.sp_list);

      var options = {
        title: source.name,
        legend: {position: 'bottom'},
        vAxis: {maxValue: source.sp_max, minValue: 0},
      };

      var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

      chart.draw(data, options);
    }
  </script>
</head>

<body>
  <div id="curve_chart" style="width: 900px; height: 500px"></div>
</body>

</html>
